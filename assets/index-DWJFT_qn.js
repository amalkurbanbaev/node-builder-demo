import{j as e,r as l,u as E}from"./index-CkBUzlMk.js";import{H as o,P as t,a as S,b as P,c as R,d as T,u as k,S as B,i as F,B as I,M as _,C as L}from"./dnd-provider-DJjmyD_o.js";import{u as x}from"./index-IBY-pIq-.js";import{I as O}from"./input-CzBKh3-q.js";import"./index-nL6Ku_JB.js";import"./utils-jAU0Cazi.js";const $=[{id:"a->c",source:"a",target:"c",animated:!0},{id:"b->d",source:"b",target:"d"},{id:"c->d",source:"c",target:"d",animated:!0}];function z({data:s}){return e.jsxs("div",{className:"react-flow__node-default",children:[e.jsx(o,{type:"target",position:t.Top}),e.jsx(o,{type:"target",position:t.Left}),e.jsx(o,{type:"target",position:t.Right}),e.jsx(o,{type:"source",position:t.Bottom}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.icon&&e.jsx(s.icon,{size:16}),e.jsx("div",{children:s.label})]})]})}function H(){return e.jsxs("div",{children:[e.jsx(o,{type:"source",position:t.Top}),e.jsx(o,{type:"source",position:t.Bottom}),e.jsx(o,{type:"source",position:t.Left}),e.jsx(o,{type:"source",position:t.Right}),e.jsx("div",{children:"Input"}),e.jsx("div",{children:e.jsx(O,{})})]})}function V({positionAbsoluteX:s,positionAbsoluteY:i,data:a}){const d=`${Math.round(s)}px`,r=`${Math.round(i)}px`;return e.jsxs("div",{className:"react-flow__node-default",children:[a.label&&e.jsx("div",{children:a.label}),e.jsxs("div",{children:[d," ",r]}),e.jsx(o,{type:"source",position:t.Bottom})]})}const G=[{id:"a",type:"input",position:{x:0,y:0},data:{label:"wire"}},{id:"b",type:"position-logger",position:{x:-100,y:100},data:{label:"drag me!"}},{id:"c",position:{x:100,y:100},data:{label:"your ideas"}},{id:"d",type:"output",position:{x:0,y:200},data:{label:"i am here"}}],W={"position-logger":V,input:H,custom:z};let X=0;const Y=()=>`dndnode_${X++}`;function q(){const[s,i,a]=S(G),[d,r,f]=P($),g=l.useCallback(n=>r(p=>R(n,p)),[r]),{screenToFlowPosition:m}=T(),[u,c]=k(),j=l.useRef(null),{theme:h}=E(),[y]=x("figma-mode","click"),[w]=x("show-grid",!0),[b]=x("show-minimap",!0),v=y==="drag"?{panOnScroll:!0,selectionOnDrag:!0,panOnDrag:[1,2],selectionMode:B.Partial}:null,N=l.useCallback(n=>{n.preventDefault(),n.dataTransfer.dropEffect="move"},[]),C=l.useCallback(n=>{if(n.preventDefault(),!u||!c)return;const p=m({x:n.clientX,y:n.clientY}),M={id:Y(),type:"custom",position:p,data:{label:c.title||`${u} node`,icon:c.icon}};i(D=>D.concat(M))},[m,i,u,c]);return e.jsx("div",{className:"flex h-full w-full flex-col",ref:j,children:e.jsxs(F,{colorMode:h,nodes:s,edges:d,onNodesChange:a,onEdgesChange:f,onConnect:g,onDrop:C,nodeTypes:W,onDragOver:N,fitView:!0,...v,children:[w&&e.jsx(I,{gap:12,bgColor:"var(--muted)",color:"var(--muted-foreground)",className:"opacity-50",size:1.1}),b&&e.jsx(_,{}),e.jsx(L,{})]})})}function A(){return e.jsx("div",{className:"flex h-full w-full flex-col",children:e.jsx(q,{})})}const oe=function(){return e.jsx(A,{})};export{oe as component};
