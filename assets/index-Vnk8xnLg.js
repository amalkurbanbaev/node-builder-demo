import{j as e,r as d,u as S}from"./index-COjP6dgS.js";import{H as o,P as t,a as T,b as P,c as R,d as k,u as B,S as F,i as I,B as _,M as L,C as O}from"./dnd-provider-CqbD_zlf.js";import{u as x}from"./index-CpmsKbuI.js";import{I as $}from"./input-KWTS6xq2.js";import"./index-B1b-eGFr.js";import"./utils-jAU0Cazi.js";const z=[{id:"a->c",source:"a",target:"c",animated:!0},{id:"b->d",source:"b",target:"d"},{id:"c->d",source:"c",target:"d",animated:!0}];function H({data:s}){return e.jsxs("div",{className:"react-flow__node-default",children:[e.jsx(o,{type:"target",position:t.Top}),e.jsx(o,{type:"target",position:t.Left}),e.jsx(o,{type:"target",position:t.Right}),e.jsx(o,{type:"source",position:t.Bottom}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.icon&&e.jsx(s.icon,{size:16}),e.jsx("div",{children:s.label})]})]})}function V(){return e.jsxs("div",{children:[e.jsx(o,{type:"source",position:t.Top}),e.jsx(o,{type:"source",position:t.Bottom}),e.jsx(o,{type:"source",position:t.Left}),e.jsx(o,{type:"source",position:t.Right}),e.jsx("div",{children:"Input"}),e.jsx("div",{children:e.jsx($,{})})]})}function G({positionAbsoluteX:s,positionAbsoluteY:i,data:a}){const p=`${Math.round(s)}px`,r=`${Math.round(i)}px`;return e.jsxs("div",{className:"react-flow__node-default",children:[a.label&&e.jsx("div",{children:a.label}),e.jsxs("div",{children:[p," ",r]}),e.jsx(o,{type:"source",position:t.Bottom})]})}const W=[{id:"a",type:"input",position:{x:0,y:0},data:{label:"wire"}},{id:"b",type:"position-logger",position:{x:-100,y:100},data:{label:"drag me!"}},{id:"c",position:{x:100,y:100},data:{label:"your ideas"}},{id:"d",type:"output",position:{x:0,y:200},data:{label:"i am here"}}],X={"position-logger":G,input:V,custom:H};let Y=0;const q=()=>`dndnode_${Y++}`;function A(){const[s,i,a]=T(W),[p,r,f]=P(z),g=d.useCallback(n=>r(u=>R(n,u)),[r]),{screenToFlowPosition:m}=k(),[c,l]=B(),j=d.useRef(null),{theme:h}=S(),[y]=x("figma-mode","click"),[w]=x("show-grid",!0),[b]=x("show-minimap",!0),v=y==="drag"?{panOnScroll:!0,selectionOnDrag:!0,panOnDrag:[1,2],selectionMode:F.Partial}:null,N=d.useCallback(n=>{n.preventDefault(),n.dataTransfer.dropEffect="move"},[]),C=d.useCallback(n=>{if(n.preventDefault(),!c||!l)return;const u=m({x:n.clientX,y:n.clientY}),M=c,D={id:q(),type:M,position:u,data:{label:l.title||`${c} node`,icon:l.icon}};i(E=>E.concat(D))},[m,i,c,l]);return e.jsx("div",{className:"flex h-full w-full flex-col",ref:j,children:e.jsxs(I,{colorMode:h,nodes:s,edges:p,onNodesChange:a,onEdgesChange:f,onConnect:g,onDrop:C,nodeTypes:X,onDragOver:N,fitView:!0,...v,children:[w&&e.jsx(_,{gap:12,bgColor:"var(--muted)",color:"var(--muted-foreground)",className:"opacity-50",size:1.1}),b&&e.jsx(L,{}),e.jsx(O,{})]})})}function J(){return e.jsx("div",{className:"flex h-full w-full flex-col",children:e.jsx(A,{})})}const te=function(){return e.jsx(J,{})};export{te as component};
